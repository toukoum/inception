docker container rm -f $(docker container ls -aq)
docker image rm -f $(docker image ls -aq)

docker exec -it nginx_container /bin/bash
curl -I wordpress:9000



#config for grafana
Étape 2: Configurer Prometheus comme source de données dans Grafana

    Accéder à Grafana :
        Ouvrez un navigateur et allez à http://localhost:3000 ou http://<IP_de_votre_VM>:3000.
        Connectez-vous avec les identifiants par défaut : admin / admin.

    Ajouter Prometheus comme source de données :
        Dans Grafana, allez à Configuration > Data Sources > Add data source.
        Sélectionnez Prometheus.
        Renseignez l'URL de votre Prometheus : http://prometheus:9090.
        Cliquez sur Save & Test pour vérifier la connexion.

Étape 3: Créer un tableau de bord Grafana pour surveiller l'utilisation du CPU

    Créer un nouveau tableau de bord :
        Cliquez sur + (Add Panel) > Dashboard.
        Cliquez sur Add New Panel.

    Configurer le panneau pour l'utilisation du CPU :
        Dans le champ Query, utilisez la requête suivante pour obtenir l'utilisation du CPU de tous les conteneurs :

        promql

    rate(container_cpu_usage_seconds_total{image!=""}[1m])

    Dans l'onglet Visualization, choisissez Graph.

Enregistrer et visualiser le tableau de bord :

    Donnez un nom à votre tableau de bord et cliquez sur Save.